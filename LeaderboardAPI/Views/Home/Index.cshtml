
@{
   
    ViewData["Title"] = "Team Chill Surf - Touge Leaderboard";
}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<div>

    <div class="row">

    <div class="col-8">
        <div style="width: 60%; padding-block:auto;     margin-left: auto; margin-right: auto;">

        <div class="row">

            <div class="col-6">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" onclick="refreshGrid()" id="chkOneEntry" checked="@ViewBag.OneEntryPerDriver">
                    <label style="color: whitesmoke;" class="form-check-label" for="flexCheckDefault">
                        One Entry Per Driver
                    </label>
                </div>
            </div>

            <div class="col-6">
                
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" onclick="refreshGrid()" value="" id="chkDriftCars" checked="@ViewBag.DriftCarsOnly">
                    <label style="color: whitesmoke;" class="form-check-label" for="flexCheckDefault">
                        Drift Cars Only
                    </label>
                </div>
            </div>
            </div>

        </div>
    </div>
</div>
<div class="container">
    <div class="row" >

    <div class="col-md-12">



        <div style="background-color: #0057b6; margin: 10px;  padding-top:5px;" class="text-center">

            <h2 class="display-4" style="font-size: 24px; color: white;">LeaderBoard - @ViewBag.LeaderboardName</h2>

            @if (ViewBag.LapTimes != null) {
                <table class="table table-sm  table-dark table-striped ">
                    <tr>
                        <th>Pos.</th>
                        <th>Name</th>
                        <th>Car</th>
                        <th>Time</th>
                        <th>Gap</th>
                    </tr>
                    @foreach (LapTime time in ViewBag.LapTimes) {
                        <tr>
                            <td>@time.Position</td>
                            <td>@time.Name</td>
                            <td>@time.Car</td>
                            <td>@time.Time</td>
                            <td>@time.Gap</td>
                        </tr>

                    }

                </table>
            }


        </div>
    </div>
@*    <div class="col-md-4">
          <div style="background-color: #0057b6; margin: 10px; padding-top:5px;" class="text-center">

            <h2 class="display-4" style="font-size: 24px; color: white;">Drift Scores - @ViewBag.LeaderboardName </h2>

            @if (ViewBag.LapTimes != null) {
                <table class="table table-sm  table-dark table-striped ">
                    <tr>
                        <th>Pos.</th>
                        <th>Name</th>
                        <th>Best Drift Score</th>
                    </tr>
                    @foreach (DriftScore time in ViewBag.DriftScores) {
                        <tr>
                            <td>@time.Position</td>
                            <td>@time.Name</td>
                            <td>@time.Score</td>
                        </tr>

                    }

                </table>
            }
           

        </div>
         <div style="margin: 10px; height: 20px"><p style="color: dimgray">*Drift scores are updated every 30 minutes</p></div>
    </div>*@
</div>
</div>

 
</div>

@section Footer {
    <footer class="page-footer text-muted" style="height: 12px; overflow:inherit; width: 100%">
    <div class="container" style=" height: inherit !important; width: fit-content; text-align: center; align-content: center; margin-left: auto; margin-right: auto">
        <span style=" height: inherit; float: left; font-size:9pt">Privacy: This site reads stats from our Assetto Corsa server.&nbsp </span>  <span style="height: inherit; float: left; font-size:9pt">&nbspIt does not store any data.</span>
    </div>
</footer>
}

<script type="text/javascript">


    function refreshGrid() {
        
        var oneEntryPerDriver = document.getElementById('chkOneEntry').checked;
        var driftCarsOnly = document.getElementById('chkDriftCars').checked;
        var _url = window.location.origin;
        var url = _url + "?track="+"@ViewBag.CurrentTrack" + "&oneEntryPerDriver=" + oneEntryPerDriver + "&driftCarsOnly=" + driftCarsOnly;
        window.location.href = url;
    }

</script>